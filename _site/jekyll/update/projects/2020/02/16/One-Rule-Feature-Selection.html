<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Zizhun Guo</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Your awesome title" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<meta property="og:description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<link rel="canonical" href="https://localhost:4000/" />
<meta property="og:url" content="https://localhost:4000/" />
<meta property="og:site_name" content="Your awesome title" />


<script type="application/ld+json">
{"@type":"WebSite","url":"https://localhost:4000/","name":"Your awesome title","headline":"Your awesome title","description":"Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<!-- <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css"> -->
<link rel="stylesheet" type="text/css" href="http://localhost:4001/css/bootstrap.css">
<link rel="stylesheet" type="text/css" href="http://localhost:4001/css/app.css">
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://localhost:4000/feed.xml" title="Your awesome title" /></head>
<link href="https://fonts.googleapis.com/css?family=Inconsolata|Noto+Serif+SC&display=swap" rel="stylesheet">

<body style="background: #e3e3d3;">
	<nav id="mainNavbar" class="navbar navbar-dark navbar-expand-md py-0 fixed-top">
    
    <a href="http://localhost:4001/index.html" class="navbar-brand">ZIZHUN GUO</a>
    
    <button class="navbar-toggler" data-toggle="collapse" data-target="#navLinks" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-end" id="navLinks">
        <ul class="navbar-nav justify-content-end " >
            <!-- <li class="nav-item text-right">
                <a href="http://localhost:4001/about.html" class="nav-link">&#127925暴风雨</a>
            </li> -->
            <li class="nav-item text-right">
                <a href="http://localhost:4001/assets/Resume_Zizhun_Guo_allin1.pdf" class="nav-link">RESUME</a>
            </li>
        </ul>
    </div>
</nav>


	<section id="page-container" class="container-fluid my-5 py-5" style="background: #f6f6f6; width: 100rem;">
	<div class="jumbotron text-center" style="background: #f6f6f6;">
		<h1 class="display-3">Data Mining: One Rule -> Feature Selection</h1>
		<p class="lead"><span>Author: Zizhun Guo</span>
		</p>
		<p class="lead">		Written at <time datetime="">
			16 Feb 2020
		</time>
		</p>
	</div>		

<div class="jumbotron" style="background: #f6f6f6; padding: 0rem 0rem;">
	<p><!-- MarkdownTOC -->

<ul>
  <li><a href="#1-did-your-mentor-program-use-pandas-to-help-you-along">1. Did your mentor program use pandas to help you along?</a></li>
  <li><a href="#2-did-your-mentor-program-create-your-training-program">2. Did your mentor program create your training program?</a></li>
  <li><a href="#3-did-the-training-program-use-pandas">3. Did the training program use pandas?</a></li>
  <li><a href="#4-which-attribute-is-most-strongly-cross-correlated-with-the-target-variable">4. Which attribute is most strongly cross-correlated with the target variable?</a></li>
  <li><a href="#5-which-is-best-feature-out-of-the-above-items-for-your-one-rule">5. Which is best feature out of the above items for your One Rule?</a></li>
  <li><a href="#6-what-structure-did-your-one-rule-classifier-have">6. What structure did your One Rule classifier have?</a>
    <ul>
      <li><a href="#q1-what-was-the-if-else-rule-you-got">Q1: What was the if-else rule you got?</a></li>
    </ul>
  </li>
  <li><a href="#7-run-the-original-training-data-back-through-your-classifier">7. Run the original training data back through your classifier.</a>
    <ul>
      <li><a href="#q1-what-was-the-accuracy-of-your-resulting-classifier-on-the-training-data">Q1: What was the accuracy of your resulting classifier, on the training data?</a></li>
    </ul>
  </li>
  <li><a href="#8-conclusion-2">8. Conclusion: (2)</a>
    <ul>
      <li><a href="#q1-what-else-did-you-learn-along-the-way-here">Q1: What else did you learn along the way here?</a></li>
      <li><a href="#q2-what-can-you-conclude">Q2: What can you conclude?</a></li>
    </ul>
  </li>
  <li><a href="#9-bonus-1">9. BONUS: (+1)</a>
    <ul>
      <li><a href="#q1-in-addition-to-the-best-feature-can-you-find-another-feature-that-might-help-classify-sickness">Q1: In addition to the best feature, can you find another feature that might help classify sickness?</a></li>
      <li><a href="#q2-what-makes-you-say-this">Q2: What makes you say this?</a></li>
      <li><a href="#q3-how-did-you-test-this-hypothesis">Q3: How did you test this hypothesis?</a></li>
    </ul>
  </li>
</ul>

<!-- /MarkdownTOC -->

<h3 id="1-did-your-mentor-program-use-pandas-to-help-you-along">1. Did your mentor program use pandas to help you along?</h3>
<p>Yes.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="c"># location: HW_03_Guo_Zizhun_Mentor.py</span>

    <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span> <span class="c"># data analysis and manipulation package</span>

</code></pre></div></div>
<h3 id="2-did-your-mentor-program-create-your-training-program">2. Did your mentor program create your training program?</h3>
<p>Yes.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="c"># location: HW_03_Guo_Zizhun_Mentor.py</span>

    <span class="k">def</span> <span class="nf">write_file</span><span class="p">(</span><span class="n">best_attribute</span><span class="p">,</span> <span class="n">is_positive_correlated</span><span class="p">):</span>
    <span class="s">""" writes trained program based on selected best attribute
    Paras:
        @best_attribute: a string represents the name of best attribute
        @is_positive_correlated: a boolean determines the classification rule
    Return:
        void  
    """</span>  
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># initialize a string to contains codes for dumping in the trained program</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="s">""</span>
        <span class="o">..</span>
        <span class="o">..</span> <span class="n">implementations</span> <span class="o">..</span>
        <span class="o">..</span>
    <span class="c"># create a file with given name "filepath"</span>
    <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">'HW03_Guo_Zizhun_Trained.py'</span><span class="p">,</span> <span class="s">"w"</span><span class="p">)</span> 
    <span class="c"># write string to the filepath </span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>            
    <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>  
</code></pre></div></div>

<h3 id="3-did-the-training-program-use-pandas">3. Did the training program use pandas?</h3>
<p>Yes.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="c"># location: HW_03_Guo_Zizhun_Trained.py</span>

    <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>

</code></pre></div></div>

<h3 id="4-which-attribute-is-most-strongly-cross-correlated-with-the-target-variable">4. Which attribute is most strongly cross-correlated with the target variable?</h3>
<p>|Attribute|Correlation with Target variable|
|—|—|
|Bread|-0.012|
|Vitamins|-0.448|
|Vegetable|0.016|
|Milk|-0.035|
|Banana|-0.070|
|PeanutButter|0.582|
|Chocolate|-0.030|
|Citrus|-0.057|
|Cookie|0.050|
|IceCream|0.013|
|Soda|-0.061|
|Fruit|-0.005|</p>

<p><strong>PeanutButter</strong> has the highest cross-correlation absolute value, which means it is the most strongly cross-correlated attribute with the target variable.</p>

<h3 id="5-which-is-best-feature-out-of-the-above-items-for-your-one-rule">5. Which is best feature out of the above items for your One Rule?</h3>
<p>PeanutButter.</p>

<h3 id="6-what-structure-did-your-one-rule-classifier-have">6. What structure did your One Rule classifier have?</h3>
<p>The if-statement condition sets the structure based on whether the <strong>value of cross-correlation</strong> is <strong>positive</strong> or <strong>negative</strong>. 
<strong>Sets structure for One Rule classifier in the trained program:</strong></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="c"># location: HW_03_Guo_Zizhun_Mentor.py</span>
    <span class="k">if</span> <span class="n">is_positive_correlated</span><span class="p">:</span>   
                       
        <span class="n">lines</span> <span class="o">+=</span> <span class="n">f</span><span class="s">"</span><span class="se">\n\t</span><span class="s">for val in data:"</span>
        <span class="n">lines</span> <span class="o">+=</span> <span class="n">f</span><span class="s">"</span><span class="se">\n\t\t</span><span class="s">if val &gt;  0:"</span>
        <span class="n">lines</span> <span class="o">+=</span> <span class="n">f</span><span class="s">"</span><span class="se">\n\t\t\t</span><span class="s">print('1')"</span>
        <span class="n">lines</span> <span class="o">+=</span> <span class="n">f</span><span class="s">"</span><span class="se">\n\t\t</span><span class="s">else:"</span>
        <span class="n">lines</span> <span class="o">+=</span>  <span class="n">f</span><span class="s">"</span><span class="se">\n\t\t\t</span><span class="s">print('0')"</span>
    <span class="k">else</span><span class="p">:</span>            
        <span class="n">lines</span> <span class="o">+=</span> <span class="n">f</span><span class="s">"</span><span class="se">\n\t</span><span class="s">for val in data:"</span>
        <span class="n">lines</span> <span class="o">+=</span> <span class="n">f</span><span class="s">"</span><span class="se">\n\t\t</span><span class="s">if val ==  0:"</span>
        <span class="n">lines</span> <span class="o">+=</span> <span class="n">f</span><span class="s">"</span><span class="se">\n\t\t\t</span><span class="s">print('1')"</span>
        <span class="n">lines</span> <span class="o">+=</span> <span class="n">f</span><span class="s">"</span><span class="se">\n\t\t</span><span class="s">else:"</span>
        <span class="n">lines</span> <span class="o">+=</span>  <span class="n">f</span><span class="s">"</span><span class="se">\n\t\t\t</span><span class="s">print('0')"</span> 

</code></pre></div></div>
<h4 id="q1-what-was-the-if-else-rule-you-got">Q1: What was the if-else rule you got?</h4>
<p><strong>Struture below:</strong> (based on the given training dataset)</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="c"># location: HW_03_Guo_Zizhun_Trained.py</span>
        
    <span class="k">if</span> <span class="n">attribute</span> <span class="o">&gt;</span>  <span class="mi">0</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'1'</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'0'</span><span class="p">)</span>

</code></pre></div></div>
<h3 id="7-run-the-original-training-data-back-through-your-classifier">7. Run the original training data back through your classifier.</h3>
<h4 id="q1-what-was-the-accuracy-of-your-resulting-classifier-on-the-training-data">Q1: What was the accuracy of your resulting classifier, on the training data?</h4>
<p>The Trained Program would print the result as the homework asked, but the accuracy can be captured by <strong>frequency table</strong> created in Mentor Program:</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># shell console</span>
        
PeanutButter  Sickness
0             0           399
              1           108
1             0           101
              1           392
dtype: int64

</code></pre></div></div>
<p>$numberOfCorrectness = numberOf(PeanutButter: 0, Sickness: 0)+numberOf(PeanutButter: 1, Sickness: 1) = 399+392 = 791$
$numberOfTotal = 1000$
$Accuracy = numberOfCorrectness / numberOfTotal = 791 / 1000 = 0.79$</p>

<p>The <strong>Accuracy</strong> is <strong>0.79</strong>.</p>

<p>*Reference: 
Another way to define Accuracy: $ACC= (TP+TN)/(TP+TN+FP+FN)$</p>

<h3 id="8-conclusion-2">8. Conclusion: (2)</h3>
<h4 id="q1-what-else-did-you-learn-along-the-way-here">Q1: What else did you learn along the way here?</h4>
<p>I also leanred using scatter plot to present the correlation situation.
The default image would be looks like this:
<img src="https://i.imgur.com/AZQWEid.png" alt="scatter_nojitter" /></p>

<p><strong>Image 1: The 2D Sickness based on Peanutbutter</strong></p>

<p>Each dot actually overlaps so many points. In order to see how condense each points are, we need to add jitter to scatter it up a little bit. So just choose a randomly scattered seed generated by Numpy package.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="c"># location: HW_03_Guo_Zizhun_Mentor/ditribution_plot_with_jitter.py</span>
        
    <span class="n">x</span> <span class="o">=</span> <span class="n">df_filtered</span><span class="p">[</span><span class="n">best_attribute</span><span class="p">]</span> \
                <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">scatter_fraction_rate</span><span class="p">)</span> \
                <span class="o">*</span> <span class="n">scatter_scale</span> \
            <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">ranf</span><span class="p">(</span><span class="n">size</span><span class="p">)</span> \
                <span class="o">*</span> <span class="n">scatter_fraction_rate</span> \
                <span class="o">*</span> <span class="n">scatter_scale</span>
    <span class="o">...</span>
    <span class="o">...</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>    <span class="c"># plot the image alpha = 0.5 indicates the level of the overlap</span>
                                    <span class="c"># Area with darker color have more points overlapped </span>
</code></pre></div></div>
<p>After adding the <strong>Jitter</strong>:
<img src="https://i.imgur.com/5YKMVDx.png" alt="scatter_jitter" /></p>

<p><strong>Image 2: The 2D Sickness based on Peanutbutter with Jitter</strong></p>

<p>Here <strong>Jitter</strong> as the <strong>Noise</strong> added enabling easy observation on how the points are settles. As can be seen, points from <strong>lower left</strong> and <strong>upper right</strong> are largely placed, which means the two x-variable and y-variable are <strong>strongly positive cross-correlated</strong>.</p>

<p><strong>This tendency implies</strong>: The y-variable tends to have the same value of x_variable, since in our case, we only has two value options (0 and 1).</p>

<h4 id="q2-what-can-you-conclude">Q2: What can you conclude?</h4>

<p>The tendency for attribute values to be changed as the target variable is defined by the <strong>sign</strong> of <strong>cross-correlation</strong>. This conclusion can be used to determine the One Rule of a trained program that if the cross-correlation(CC) is less than 0, the prediction should be <strong>opposite</strong> as the value of the attribute, whereas if CC is greater than 0, the prediction should be <strong>same</strong> result of the attribute value.</p>
<h3 id="9-bonus-1">9. BONUS: (+1)</h3>
<h4 id="q1-in-addition-to-the-best-feature-can-you-find-another-feature-that-might-help-classify-sickness">Q1: In addition to the best feature, can you find another feature that might help classify sickness?</h4>
<p>Yes. <strong>Vitamin</strong> can be this feature, since</p>
<h4 id="q2-what-makes-you-say-this">Q2: What makes you say this?</h4>
<p>Because it has the second-highest cross-correlation, which is <strong>-0.448</strong>.</p>

<p><img src="https://i.imgur.com/OVE71bg.png" alt="scatter_jitter_second" /></p>

<p><strong>Image 3: The 2D Sickness based on Vitamin with Jitter</strong></p>

<h4 id="q3-how-did-you-test-this-hypothesis">Q3: How did you test this hypothesis?</h4>
<p>I can print the frequency table to calculate the Accuracy.</p>

<table>
  <thead>
    <tr>
      <th>Vitamins</th>
      <th>Sickness</th>
      <th>#</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>0</td>
      <td>305</td>
    </tr>
    <tr>
      <td>^</td>
      <td>1</td>
      <td>487</td>
    </tr>
    <tr>
      <td>1</td>
      <td>0</td>
      <td>195</td>
    </tr>
    <tr>
      <td>^</td>
      <td>1</td>
      <td>13</td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td>total: 1000</td>
    </tr>
  </tbody>
</table>

<p>Accuracy = (487+195)/1000 = <strong>0.682</strong>
*Since the correlation is less than 0, it needs to sum up the # of {0, 1} and {1, 0} pairs.</p>

<hr />
<p>All rights reserved by Zizhun Guo</p>
</p>

</div>


</section>
	
	<a href="#page-container" style="position:fixed;right:0;bottom:0">Back to Top</a>

	<!-- Optional JavaScript -->
	<!-- jQuery first, then Popper.js, then Bootstrap JS -->
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
	crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
	crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
	crossorigin="anonymous"></script>

	<script>
		$(function () {
			$(document).scroll(function () {
				var $nav = $("#mainNavbar");
				$nav.toggleClass("scrolled", $(this).scrollTop() > $nav.height());
			});
		});
	</script>
</body>
</html>