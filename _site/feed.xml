<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.9.3">Jekyll</generator><link href="http://localhost:4001/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4001/" rel="alternate" type="text/html" /><updated>2023-10-22T22:33:21+08:00</updated><id>http://localhost:4001/feed.xml</id><title type="html">Your awesome title</title><subtitle>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</subtitle><entry><title type="html">「Suzhou」随性的「苏州」平江古城之行-DayTrip-第二日Day2</title><link href="http://localhost:4001/jekyll/update/projects/2023/10/22/Suzhou-Trip-Day2.html" rel="alternate" type="text/html" title="「Suzhou」随性的「苏州」平江古城之行-DayTrip-第二日Day2" /><published>2023-10-22T05:26:20+08:00</published><updated>2023-10-22T05:26:20+08:00</updated><id>http://localhost:4001/jekyll/update/projects/2023/10/22/Suzhou-Trip-Day2</id><content type="html" xml:base="http://localhost:4001/jekyll/update/projects/2023/10/22/Suzhou-Trip-Day2.html">&lt;p&gt;引子：谢谢你，苏州。谢谢，我们还会再见面的。&lt;/p&gt;

&lt;p&gt;今日制定了计划，并没有安排过多的随机性，原因还是很直接的，需要为明日的工作做一些准备。是的，这难得的day trip是目前我为数不多滕得出来的时间里挤出来的，在平日的工作间隙，能说走就走，并不是容易的事情（或许这是这次旅程可以教会我更多时间管理办法）。无论如何，我已把早晨划拨给我的工作了。由于日程中回上海的时间是订在下午五点，从中午开始，直到设定的必须赶去火车站的时间阈值，在这个区间内，都有着可以展现神奇的旅行随机性的机会。&lt;/p&gt;

&lt;h6 id=&quot;来碗蟹黄面&quot;&gt;来碗“蟹黄面”&lt;/h6&gt;

&lt;p&gt;这家面馆是我在酒店附近发现的，而其坐落在的地段，非常靠近平江历史街区（背景介绍），而这条路叫旧学前，是姑苏区老城中的一条非常具有历史感的道路。行走在这条路中，你不会感到在经济发展和历史进程中，那些进化后神奇的现代化建筑的氛围，转而是有着一种我们小时候都习以为常的旧城市感。或许你可以发现一些公交车站已经改头换面，更或许是一些餐馆的装潢已经全面的民俗化和风格化，又或者是那一排排共享单车提高了城市交通的方便度，但至少，这里的居民们（我是说很多老头老太太们），让苏州旧城的底蕴依旧。&lt;/p&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day2/IMG_2094.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day2/IMG_2094.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; 独特的公交站 &lt;/figcaption&gt;
&lt;/div&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day2/IMG_2205.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day2/IMG_2205.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; 蟹黄面 &lt;/figcaption&gt;
&lt;/div&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day2/IMG_2207.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day2/IMG_2207.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; 菜单 &lt;/figcaption&gt;
&lt;/div&gt;

&lt;p&gt;于是乎，穿梭在这里，我突然发现了一个面馆，当即决定，我要给予一些随机性的“佐料”给我的旅程。具象化后，就是无论菜单有什么，我都要选一些我真的没吃过的菜。看到这里，你已经猜出来了，我点了一碗蟹黄面。味道其实还是不错的，江南特色的细面在不失去面条“劲道”的同时，因为一些油拌的缘故，佐之以蟹黄“臊子”的咸味和独特的质地，我真心觉得是ok的。店家还附赠了两个小菜，分别是泡菜和青椒肉丝，毕竟108块钱，景区食物价格是“不摆”的，但不知为何我觉得它们配在一起，这口感组合升级了。不管怎么说，午饭后的能量补给，让我对接下来下午的旅途充满了期待。&lt;/p&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day2/IMG_2214.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day2/IMG_2214.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; 这里到处都是蟹黄类的小吃  &lt;/figcaption&gt;
&lt;/div&gt;

&lt;h6 id=&quot;惊奇漫步到古城墙&quot;&gt;“惊奇漫步”到古城墙&lt;/h6&gt;

&lt;p&gt;这已经是下午发生的事了，事实上在横穿运河和古城的街区之后，古城最东边的区域还有一条路也有着不一样的风景，这条路的名字叫仓街，这里没有平江路靠近运河那么的狭长，反而宽阔得可以通行机动车辆，不同的是，这里靠近耦圆，另一座为人所知的苏州园林，小巧且可爱。这里还有一片别墅区，由于是私人宅邸，未能进入一探究竟，但从外形质地可以看出一些端倪，极具简约风格的江南宅邸。抱歉我并不了解建筑设计，但是我的感觉确实让人感觉安静宁和。&lt;/p&gt;

&lt;p&gt;但其实让我惊奇的是，这里有一片区域的商业街，我在刚准备进入的时候，我就一种迎面而来熟悉的陌生感觉。熟悉地像成都“太古里”的味道，陌生的苏州“惊奇漫步”。一样的高级奢侈品牌，潮流品牌也一应俱全，我甚至怀疑，是否全国各地的仿古CBD都长一个样子，但苏州这里在建筑上有着其独特的空灵感，由于又在水乡，在靠近老城区边的内河旁，景色肯定比成都太古里宽阔且精致。但，其实成都也有SKP在高新区，不差空间的敞亮，但怎么说呢，虽然人气远远当不上成都CBD的繁华，但也是solid的CBD的体验。&lt;/p&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day2/IMG_2237.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day2/IMG_2237.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt;“惊奇漫步”&lt;/figcaption&gt;
&lt;/div&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day2/IMG_2253.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day2/IMG_2253.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; 插播一个Butterful &amp;amp; Creamorous的排队盛况 &lt;/figcaption&gt;
&lt;/div&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day2/IMG_2248.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day2/IMG_2248.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; 古城墙下 &lt;/figcaption&gt;
&lt;/div&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day2/IMG_2250.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day2/IMG_2250.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; 古城墙下 &lt;/figcaption&gt;
&lt;/div&gt;

&lt;p&gt;“惊奇漫步”旁的最大特色，我认为是古城墙。我最喜欢的是苏州对于空间感的把握，在仓街旁是“惊奇漫步”，再旁边是运河，再旁边是运河和古城墙的连接地（这里有一排国学培训班和茶室茶馆），再旁边就是古城墙，城墙下去就是沿河的路，再再过去就是护城河了，你知道护城河对岸是哪里吗？是苏州大学，在城墙上可以远眺到。这一段段分界层次感鲜明，连接顺畅，没有一丝突兀的感觉，你可以完全做到10分钟从平江古城走到城墙边，其途中经历的地貌特征变化丰富，特别有意思。&lt;/p&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day2/IMG_2254.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day2/IMG_2254.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; 遥望“惊奇漫步” &lt;/figcaption&gt;
&lt;/div&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day2/IMG_2257.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day2/IMG_2257.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; 古城墙上 &lt;/figcaption&gt;
&lt;/div&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day2/IMG_2269.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day2/IMG_2269.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; 城墙孔眺望苏州大学 &lt;/figcaption&gt;
&lt;/div&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day2/IMG_2279.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day2/IMG_2279.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; 苏州大学 &lt;/figcaption&gt;
&lt;/div&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day2/IMG_2284.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day2/IMG_2284.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; 耦圆旁的别墅群 &lt;/figcaption&gt;
&lt;/div&gt;

&lt;h6 id=&quot;河边的苏州站&quot;&gt;河边的苏州站&lt;/h6&gt;

&lt;p&gt;从城墙下来后，我去参观耦圆了，这里不过多赘述，我会放到专题文章中，但是耦圆的景致对得起票价，虽然有很多姑娘占地拍照，影响到了正常游人的游览。之后就是走路到苏州站了，我想好好体验一下从古称慢慢摇到苏州站的感觉，不仅仅是为了能够多停留古城一段时间，而且我希望能够综合得感受苏州的氛围，在人民路还遇见到寒山寺，遗憾的是我并没有太多的时间驻足，只留下一张照片，让我留个念想。而接下来的苏州站，确实那么美，因为它恰设在运河旁，我没有立刻入站，而是坐在河堤旁的台阶上，看着太阳徐徐落下，阳光洒在江中，风吹着河水，波光粼粼地闪烁，美丽如画，让我想起了罗切斯特的日子里，在安大略湖旁有着同样的光影效果，让我想起了2018年10月的那个秋季，那个迷茫的自己在湖边，迎着夕阳，问了自己一个问题。&lt;/p&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day2/IMG_2361.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day2/IMG_2361.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; 波光粼粼：苏州站旁的夕阳&lt;/figcaption&gt;
&lt;/div&gt;

&lt;h6 id=&quot;我知道我还在路上我依然没有停歇我在追求的东西一直在那里谢谢你苏州&quot;&gt;我知道我还在路上，我依然没有停歇，我在追求的东西一直在那里。谢谢你，苏州！&lt;/h6&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day2/IMG_2368.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day2/IMG_2368.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; 苏州站台｜明日を変えるモーメント それが今かもね &lt;/figcaption&gt;
&lt;/div&gt;

&lt;p&gt;—Copyright @ 2021 Zizhun Guo. All Rights Reserved.&lt;/p&gt;</content><author><name>Zizhun Guo</name></author><category term="Projects" /><summary type="html">引子：谢谢你，苏州。谢谢，我们还会再见面的。</summary></entry><entry><title type="html">「Suzhou」随性的「苏州」平江古城之行-DayTrip-第一日Day1</title><link href="http://localhost:4001/jekyll/update/projects/2023/10/21/Suzhou-Trip-Day1.html" rel="alternate" type="text/html" title="「Suzhou」随性的「苏州」平江古城之行-DayTrip-第一日Day1" /><published>2023-10-21T04:26:20+08:00</published><updated>2023-10-21T04:26:20+08:00</updated><id>http://localhost:4001/jekyll/update/projects/2023/10/21/Suzhou-Trip-Day1</id><content type="html" xml:base="http://localhost:4001/jekyll/update/projects/2023/10/21/Suzhou-Trip-Day1.html">&lt;p&gt;引子：如果说随性的人可爱，那随性的旅行更会可爱到令人难忘，10月的下旬，我决定来一次说走就走的Day Trip，两日的苏州游让我把随性玩到极致。分享给大家，希望能够启发。&lt;/p&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day1/IMG_2101.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day1/IMG_2101.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; 平江历史街区 &lt;/figcaption&gt;
&lt;/div&gt;

&lt;h6 id=&quot;旅行中的随机性&quot;&gt;旅行中的随机性&lt;/h6&gt;
&lt;p&gt;随机性的美妙之处在于，当你把选择交给了自然后，存在一定概率你可以收获一些出人意料的小惊喜。我们已经习惯了在工作中，把确定性当成既定目标，哪怕除工作之外的生活，也变得一成不变。那好不容易挤出时间，献给旅行，我们还要追求确定性吗？答案自然是一千个读者心中有一千个哈姆雷特。但在我的认知里，旅程中的非确定性有时也可以成为惊喜。因此，我会在每次旅行中刻意穿插一些随机元素。简单讲，要的就是随性！&lt;/p&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day1/IMG_2104.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day1/IMG_2104.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; 运河边的老楼 &lt;/figcaption&gt;
&lt;/div&gt;

&lt;h6 id=&quot;如何做到随机性呢&quot;&gt;如何做到随（机）性呢？&lt;/h6&gt;

&lt;p&gt;就像这个标题内容，看起来就不太像一篇游记的标题，而更像一篇技术教程，效果差不多。其底层逻辑用四川话说就是：“老子想干什么就干什么”。如果你领悟到了这句话的真谛，但是依然有疑问，“我想做什么事情跟随机性有关吗？”，其实这代表着，人类的想法其实是很多时候是随机产生的。如果你玩过《模拟人生》系列游戏，你可能很了解，游戏中的小人儿经常时不时地冒出一些想法，你可以帮ta即可实现，去获得成长点数。因此随机性就体现在这里。放在我们的旅行场景中来讲：我们因为在新鲜的场景中，突然随机地冒出了很多想法，并按照想法顺势而为，此乃领悟了随机旅行的第一层境界。&lt;/p&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day1/IMG_2112.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day1/IMG_2112.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; 运河一瞥即是画卷 &lt;/figcaption&gt;
&lt;/div&gt;

&lt;p&gt;一个简单的例子，我走到了苏州河边上，一切都是那么美好，因为旅游景区的缘故，主路尤为精致，虽然全国各地类似的商业景区其实装潢标准都差不太多，但至少苏州河的具有苏杭运河的独特景致，白墙上的风吹日晒后的褪色花纹，直展示吴中民俗建筑的风味，深红色的砖瓦和斑驳的白墙，以及清澈地河道，不同角度处处构成了一幅幅的山水画作。但是，东西侧的小巷子是在太神秘了，因为没有什么旅客，事实上感觉里面别有洞天。好奇的我怎会放过这一个个谜题呢？或许里面是当地居民的宅邸，或许有低调的饮食作坊，或许还有更别致的景致，我觉得我必须去一探究竟。这是我在当时感受到的随机性的力量，我只是顺着力量推了自己一把而已。主路不看也罢，或许支线更有意思。&lt;/p&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day1/IMG_2115.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day1/IMG_2115.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; 棋杆弄路牌 &lt;/figcaption&gt;
&lt;/div&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day1/IMG_2116.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day1/IMG_2116.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; 棋杆弄远景 &lt;/figcaption&gt;
&lt;/div&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day1/IMG_2118.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day1/IMG_2118.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; 居民区的运河没有一丝嘈杂 &lt;/figcaption&gt;
&lt;/div&gt;

&lt;h6 id=&quot;30平居民家的私房馄饨店&quot;&gt;30平居民家的私房馄饨店&lt;/h6&gt;

&lt;p&gt;这是第二层的随机性的展示，在旅途当中，被我遇见了，其实我本也打算奉献一些我的时间精力和金钱在上面。那就是，当随机遇到的人事物后，我去主动拥抱余下进展。举个例子，就像我现在弄堂里穿梭的时候，我发现了这个奇怪的指示牌，甚至这只是一张A4纸简单的注明了，弄堂里有一家卖馄饨的店，招牌名称统统没有，这就挺随机的，因为第一我确实没来过这个店，第二是这种店让我产生了一种冒险的感觉，这两都都很让我兴奋不已。&lt;/p&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day1/IMG_2149.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day1/IMG_2149.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; 老弄堂馄饨 &lt;/figcaption&gt;
&lt;/div&gt;

&lt;p&gt;“来都来了”，这句话在此时变成了非常令人信服的道理，我选择相信它一次。这一次证明了这个随性的冒险没有错。这确实是一家馄饨店，“卖馄饨”，“比景区店便宜10块”，“居民家的阿婆一条龙制作烹饪”，“只有一张桌子”，“吃完后到现在我依然身体无碍”，“味道还可以”，“我录了素材以后制作视频”，以上标签在事后我毫不犹豫地打了出来，因为这伴随着第二层随机性地平稳落地。&lt;/p&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day1/IMG_2137.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day1/IMG_2137.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; 家里的私房菜 &lt;/figcaption&gt;
&lt;/div&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day1/IMG_2142.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day1/IMG_2142.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; 香油纯肉馄饨 &lt;/figcaption&gt;
&lt;/div&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day1/IMG_2147.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day1/IMG_2147.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; 阿婆“现包现煮” &lt;/figcaption&gt;
&lt;/div&gt;

&lt;h6 id=&quot;内容丰富让旅途更为独特&quot;&gt;内容丰富让旅途更为独特&lt;/h6&gt;

&lt;p&gt;还可以做得更好。如果你按照我的介绍，你已经拥有了【随机旅行想法选择】+【随机旅行事件跟随】的旅行深度探索游的基本梗概，理论上说，你已经可以享受一次激动人心的随机旅行了。但怎么说呢，我们需要更多的美景，让随机产生随机，让随性发挥到底，这一连串独特的记忆，能够深刻地抚慰我们“受伤”的心灵，能够让我们在好不容易得来的时间里，产生更为震慑灵魂的共鸣。因为只有“心”才能和城市的脉络产生交流，一个城市独有的灵魂是透过物质后的显现，基础设施和清洁度固然重要，但必须得有底子才能让金钱加以创造，而非简单般复制+粘贴毫无美感。我们需要的是，江南白墙上的斑驳，在清澈的运河边，我们的心灵可以得到平静。&lt;/p&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day1/IMG_2152.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day1/IMG_2152.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; 平江路旁的运河，汉服拍照生意火爆 &lt;/figcaption&gt;
&lt;/div&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day1/IMG_2155.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day1/IMG_2155.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; 又是运河之流 &lt;/figcaption&gt;
&lt;/div&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day1/IMG_2157.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day1/IMG_2157.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; 网红打卡拍照点 &lt;/figcaption&gt;
&lt;/div&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day1/IMG_2190.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day1/IMG_2190.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; 商业化茶室 &lt;/figcaption&gt;
&lt;/div&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day1/IMG_2197.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310suzhou-day1/IMG_2197.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; 旧学前停车场，有一丝美国parking lot的感觉 &lt;/figcaption&gt;
&lt;/div&gt;

&lt;p&gt;—Copyright @ 2021 Zizhun Guo. All Rights Reserved.&lt;/p&gt;</content><author><name>Zizhun Guo</name></author><category term="Projects" /><summary type="html">引子：如果说随性的人可爱，那随性的旅行更会可爱到令人难忘，10月的下旬，我决定来一次说走就走的Day Trip，两日的苏州游让我把随性玩到极致。分享给大家，希望能够启发。 平江历史街区</summary></entry><entry><title type="html">「Chengdu」2023国庆-成都-夜逛府河-City-Walk</title><link href="http://localhost:4001/jekyll/update/projects/2023/10/03/Walk-Chengdu-National-Holiday.html" rel="alternate" type="text/html" title="「Chengdu」2023国庆-成都-夜逛府河-City-Walk" /><published>2023-10-03T04:13:20+08:00</published><updated>2023-10-03T04:13:20+08:00</updated><id>http://localhost:4001/jekyll/update/projects/2023/10/03/Walk-Chengdu-National-Holiday</id><content type="html" xml:base="http://localhost:4001/jekyll/update/projects/2023/10/03/Walk-Chengdu-National-Holiday.html">&lt;h6 id=&quot;天仙桥滨河路&quot;&gt;天仙桥滨河路&lt;/h6&gt;

&lt;p&gt;成都就是那种你走在街上，不管在哪里都有一种轻松悠闲感觉的城市。走在天仙桥滨河路上，这里比较宁静，游人略少，走过一家名叫Painkiller的酒吧，瞥见几个年轻人坐在patio座位上聊天，桌上躺着鸡尾酒，好像疼痛在这里并不存在。路过的BlackMirror Bar，你会觉得时间被吸进了Black Hole。但这里却是比较精致的，不像望平街的繁荣和嘈杂。走在河边，人群三三两两，有家人带小孩，也有依偎的情侣，这种感觉不会让然感到孤独和寂寞。&lt;/p&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310chengdu/IMG_1889.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310chengdu/IMG_1889.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; &lt;/figcaption&gt;
&lt;/div&gt;

&lt;h6 id=&quot;东门码头&quot;&gt;东门码头&lt;/h6&gt;

&lt;p&gt;我其实不常来这里，或者说我为什么不走东风大桥呢，如果打算去春熙路的话。听说这里有唐朝cosplay，我就兴致盎然地赶来了。不出所料，国庆节假日期间，这里俨然成了著名景区的节奏，只是人多之余，却无太多驻足的时间。尽管如此，我依然得以窥见灯光和迷离。&lt;/p&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310chengdu/IMG_1904.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310chengdu/IMG_1904.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; &lt;/figcaption&gt;
&lt;/div&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310chengdu/IMG_1915.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310chengdu/IMG_1915.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; &lt;/figcaption&gt;
&lt;/div&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310chengdu/IMG_1918.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310chengdu/IMG_1918.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; &lt;/figcaption&gt;
&lt;/div&gt;

&lt;p&gt;其实，当河边霓虹灯亮起时，树叶还是挺亮的。最重要的是，五彩斑斓的颜色哈，和这河景如此般配，犹如绵延的画卷。每一次定格，都会大致保留着框架美的同时，稍带着所处街道所特有的韵味。你知道，尽管市政规划或许在某些河段采取相同的设计模式，但哪怕就算相同的河道，街景也有所区别，因为成都这座老城，确是历史相当长了。&lt;/p&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310chengdu/IMG_1921.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310chengdu/IMG_1921.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; &lt;/figcaption&gt;
&lt;/div&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310chengdu/IMG_1925.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310chengdu/IMG_1925.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; &lt;/figcaption&gt;
&lt;/div&gt;

&lt;h6 id=&quot;兰桂坊&quot;&gt;兰桂坊&lt;/h6&gt;

&lt;p&gt;不知不觉已经快“摇”到合江亭了，剩下的路段是成都兰桂坊，作为成都老一代的“旗舰”酒吧夜店一条街，在我读初中时期就，该街道已然成为80年代出生人士的乐园，彼时的手机还是诺基亚为主，而少陵路，兰桂坊和九眼桥，就是我们这些学生羡慕的宝地。不过今夜国庆的兰桂坊，是旅游者的胜地，对靠合江亭，步行到九眼桥的距离，再加之阳光新业CBD的做大，兰桂坊的地段是优秀solid的。三两酒吧已经开始营业了，club却静悄悄，这么早谁进去跳？&lt;/p&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310chengdu/IMG_1932.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310chengdu/IMG_1932.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; &lt;/figcaption&gt;
&lt;/div&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310chengdu/IMG_1941.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310chengdu/IMG_1941.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; &lt;/figcaption&gt;
&lt;/div&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
&lt;a href=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310chengdu/IMG_1944.jpeg&quot;&gt;
&lt;img src=&quot;https://img-bed-1317278737.cos.ap-shanghai.myqcloud.com/post/202310chengdu/IMG_1944.jpeg&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt; &lt;/figcaption&gt;
&lt;/div&gt;

&lt;p&gt;—Copyright @ 2021 Zizhun Guo. All Rights Reserved.&lt;/p&gt;</content><author><name>Zizhun Guo</name></author><category term="Projects" /><summary type="html">天仙桥滨河路</summary></entry><entry><title type="html">【编辑中】上海 外滩</title><link href="http://localhost:4001/jekyll/update/projectss/2023/08/11/Shanghai-Bund-copy.html" rel="alternate" type="text/html" title="【编辑中】上海 外滩" /><published>2023-08-11T01:56:30+08:00</published><updated>2023-08-11T01:56:30+08:00</updated><id>http://localhost:4001/jekyll/update/projectss/2023/08/11/Shanghai-Bund%20copy</id><content type="html" xml:base="http://localhost:4001/jekyll/update/projectss/2023/08/11/Shanghai-Bund-copy.html">&lt;p&gt;成都就是那种你走在街上，不管在哪里都有一种轻松悠闲感觉的城市。走在天仙桥滨河路上，这里比较宁静，游人略少，走过一家名叫Painkiller的酒吧，瞥见几个年轻人坐在patio座位上聊天，桌上躺着鸡尾酒，好像疼痛在这里并不存在。路过的BlackMirror Bar，你会觉得时间被吸进了Black Hole。但这里却是比较精致的，不像望平街的繁荣和嘈杂。&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;Copyright @ 2021 Zizhun Guo. All Rights Reserved.&lt;/p&gt;</content><author><name>Zizhun Guo</name></author><category term="Projectss" /><summary type="html">成都就是那种你走在街上，不管在哪里都有一种轻松悠闲感觉的城市。走在天仙桥滨河路上，这里比较宁静，游人略少，走过一家名叫Painkiller的酒吧，瞥见几个年轻人坐在patio座位上聊天，桌上躺着鸡尾酒，好像疼痛在这里并不存在。路过的BlackMirror Bar，你会觉得时间被吸进了Black Hole。但这里却是比较精致的，不像望平街的繁荣和嘈杂。</summary></entry><entry><title type="html">【编辑中】「旅行：香港」或许可以再找到一次曼哈顿距离 Hong Kong-meet Manhattan Distance again</title><link href="http://localhost:4001/jekyll/update/projectss/2023/03/21/HongKong-Trip.html" rel="alternate" type="text/html" title="【编辑中】「旅行：香港」或许可以再找到一次曼哈顿距离 Hong Kong-meet Manhattan Distance again" /><published>2023-03-21T04:56:30+08:00</published><updated>2023-03-21T04:56:30+08:00</updated><id>http://localhost:4001/jekyll/update/projectss/2023/03/21/HongKong-Trip</id><content type="html" xml:base="http://localhost:4001/jekyll/update/projectss/2023/03/21/HongKong-Trip.html">&lt;p&gt;香港位于中国南部、珠江口以东，西与中国澳门隔海相望，北与深圳市相邻，南临珠海市万山群岛，距广州市约200公里。 区域范围包括香港岛、九龙、新界和周围的262个岛屿。 陆地总面积为1106.3平方公里，其中港岛80.7平方公里，九龙46.9平方公里，新界978.7平方公里。 海域面积为1648.7平方公里。&lt;/p&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
   &lt;img src=&quot;https://picx.zhimg.com/v2-146621bee7fee71d27ca46d64bf61fcf_1440w.jpg?source=d16d100b&quot; alt=&quot;drawing&quot; style=&quot;width: 70%;&quot; /&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;It’s been a while since my last journey, but after wrapping up work in Beijing, I embarked on a short adventure with my friend Da. We headed to HongKong, a destination unfamiliar to both of us.&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;Copyright @ 2021 Zizhun Guo. All Rights Reserved.&lt;/p&gt;</content><author><name>Zizhun Guo</name></author><category term="Projectss" /><summary type="html">香港位于中国南部、珠江口以东，西与中国澳门隔海相望，北与深圳市相邻，南临珠海市万山群岛，距广州市约200公里。 区域范围包括香港岛、九龙、新界和周围的262个岛屿。 陆地总面积为1106.3平方公里，其中港岛80.7平方公里，九龙46.9平方公里，新界978.7平方公里。 海域面积为1648.7平方公里。</summary></entry><entry><title type="html">大数据查询语句总结 SQL summary in one (updating)</title><link href="http://localhost:4001/jekyll/update/projects/2022/04/17/SQL_summary-copy.html" rel="alternate" type="text/html" title="大数据查询语句总结 SQL summary in one (updating)" /><published>2022-04-17T17:33:30+08:00</published><updated>2022-04-17T17:33:30+08:00</updated><id>http://localhost:4001/jekyll/update/projects/2022/04/17/SQL_summary%20copy</id><content type="html" xml:base="http://localhost:4001/jekyll/update/projects/2022/04/17/SQL_summary-copy.html">&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;#why-long-query&quot;&gt;Why long query？&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#how-to-optimize-it&quot;&gt;How to optimize it?&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#11-flexible-left-join&quot;&gt;1.1 Flexible Left Join&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#12-illustrated-sql-join&quot;&gt;1.2 Illustrated SQL join&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#13-intermediate-table&quot;&gt;1.3 Intermediate Table&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#sql-syntax-format&quot;&gt;SQL Syntax Format&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#31-benifit-of-indentation&quot;&gt;3.1 Benifit of Indentation&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#32-comma-position-in-selection-clause&quot;&gt;3.2 Comma position in selection clause&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#33-alias-usage&quot;&gt;3.3 Alias Usage&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#34-distinct-helps-prevent-row-explosion&quot;&gt;3.4 Distinct helps prevent row explosion&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;why-long-query&quot;&gt;Why long query？&lt;/h4&gt;

&lt;p&gt;It depends on the complexity of the business; a simple query demand may involve multiple feature tables, each of which contains columns necessary to inquire, while the number of columns for each table is few. The way to implement a long query is diverse. However, we may intend to make our query as simple as possible. The simple SQL query refers to the query with the least select statement and subqueries. The subquery can visually deduct the line number of the code block but may lead to other problems, i.e., row explosion, etc.&lt;/p&gt;

&lt;h4 id=&quot;how-to-optimize-it&quot;&gt;How to optimize it?&lt;/h4&gt;

&lt;p&gt;A feasible way is to make the long SQL query a collection of blocks of code, which are much easier to control and to check for mistakes. Building your query a step at a time is a best practice for SQL development. This will enable you to find logical errors faster and be more confident of your results.&lt;/p&gt;

&lt;h6 id=&quot;11-flexible-left-join&quot;&gt;1.1 Flexible Left Join&lt;/h6&gt;

&lt;p&gt;A left join is frequently used in the long SQL query since it plays a filter role. The example down the side adds the new columns tag that indicates if the player is AI or not.&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;t1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
   &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;IF&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uid&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;player0_is_AI&lt;/span&gt;
   &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;IF&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uid&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;player1_is_AI&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;dwd_basic&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t1&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;LEFT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;JOIN&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;dwd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dwd_user_AI&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t2&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;t1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;player0_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uid&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;LEFT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;JOIN&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;dwd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dwd_user_AI&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t3&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;t1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;player1_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uid&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;player0_is_AI&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h6 id=&quot;12-illustrated-sql-join&quot;&gt;1.2 Illustrated SQL join&lt;/h6&gt;

&lt;p&gt;Create the testing tables:&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;IF&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;EXISTS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test_join_A&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;INT&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;STRING&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;ROW&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FORMAT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DELIMITED&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;FIELDS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TERMINATED&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;,&apos;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;IF&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;EXISTS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test_join_B&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;INT&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;company&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;STRING&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;ROW&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FORMAT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DELIMITED&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;FIELDS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TERMINATED&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;,&apos;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test_join_a&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;VALUES&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;Melisa&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test_join_a&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;VALUES&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;John&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test_join_a&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;VALUES&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;Kobe&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test_join_a&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;VALUES&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;Wanda&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test_join_b&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;VALUES&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;Apple&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test_join_b&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;VALUES&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;Microsoft&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test_join_b&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;VALUES&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;Shein&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test_join_b&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;VALUES&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;JD.com&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Print Left Join result:&lt;/p&gt;
&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;t1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;company&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;guozz&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test_join_A&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t1&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;left&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;join&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;guozz&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test_join_B&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t2&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;on&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;t1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
    &lt;a href=&quot;http://localhost:4001/assets/2022-04-17-SQL_summary/31_join_Result.png&quot;&gt;
   &lt;img src=&quot;http://localhost:4001/assets/2022-04-17-SQL_summary/31_join_Result.png&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
   &lt;/a&gt;
   &lt;figcaption&gt;Join Results &lt;/figcaption&gt;
&lt;/div&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
    &lt;a href=&quot;http://localhost:4001/assets/2022-04-17-SQL_summary/32_join_illustration.png&quot;&gt;
   &lt;img src=&quot;http://localhost:4001/assets/2022-04-17-SQL_summary/32_join_illustration.png&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
   &lt;/a&gt;
   &lt;figcaption&gt;The illustration &lt;/figcaption&gt;
&lt;/div&gt;

&lt;p&gt;If t2.id is not null, it indicates the overlapping area.&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;t1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;company&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is_from_B&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;guozz&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test_join_A&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t1&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;left&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;join&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;guozz&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test_join_B&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t2&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;on&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;t1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If t2.id is not null, it indicates the non-overlapping area.&lt;/p&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
    &lt;a href=&quot;http://localhost:4001/assets/2022-04-17-SQL_summary/33_join_not_null.png&quot;&gt;
   &lt;img src=&quot;http://localhost:4001/assets/2022-04-17-SQL_summary/33_join_not_null.png&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
   &lt;/a&gt;
   &lt;figcaption&gt;Join Results &lt;/figcaption&gt;
&lt;/div&gt;

&lt;!-- If t2.id is null, it indicates the non-overlapping area. --&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;t1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;company&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is_from_A&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;guozz&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test_join_A&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t1&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;left&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;join&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;guozz&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test_join_B&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t2&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;on&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;t1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div style=&quot;text-align: center;&quot;&gt;
    &lt;a href=&quot;http://localhost:4001/assets/2022-04-17-SQL_summary/34_join_null.png&quot;&gt;
   &lt;img src=&quot;http://localhost:4001/assets/2022-04-17-SQL_summary/34_join_null.png&quot; alt=&quot;drawing&quot; style=&quot;width: 90%;&quot; /&gt;
   &lt;/a&gt;
   &lt;figcaption&gt;Join Results &lt;/figcaption&gt;
&lt;/div&gt;

&lt;h6 id=&quot;13-intermediate-table&quot;&gt;1.3 Intermediate Table&lt;/h6&gt;

&lt;p&gt;An intermediate table is a table created on the database to store temporary data used to calculate the final result set.&lt;/p&gt;

&lt;div class=&quot;language-py highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;spark&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pyspark&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;sql&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sa&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&quot;&quot;
with v= as (.......),
v2 as (.......),
v3 as (.......)

select * from v3 where.....
&quot;&quot;&quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hive_contxt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From the above example, anything between the query could go wrong. If shit hits the fan, not only the time wasted, but there could have more mistakes go born. A feasible way is to write the intermediate result into the HDFS as a hive table. For tables frequently used as the source features of all other types of specific business queries, it is best to make them permanent tables.&lt;/p&gt;

&lt;p&gt;The definition of CTE: The common table expression (CTE) is a powerful construct in SQL that helps simplify a query. CTEs work as virtual tables (with records and columns), created during the execution of a query, used by the query, and eliminated after query execution.&lt;/p&gt;

&lt;h4 id=&quot;sql-syntax-format&quot;&gt;SQL Syntax Format&lt;/h4&gt;

&lt;h6 id=&quot;31-benifit-of-indentation&quot;&gt;3.1 Benifit of Indentation&lt;/h6&gt;

&lt;p&gt;Indentation makes the block of codes more understandable by giving a visual cleanness which helps developers identify the position of elements and comprehend the logic.&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;column1&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;column2&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;table1&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;column3&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;IN&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;TOP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;column4&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;table2&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;INNER&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;JOIN&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;table3&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;table2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;column1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;table3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;column1&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;vs&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;column1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;column2&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;table1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;column3&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;IN&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TOP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;column4&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;table2&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INNER&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;JOIN&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;table3&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;table2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;column1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;table3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;column1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h6 id=&quot;32-comma-position-in-selection-clause&quot;&gt;3.2 Comma position in selection clause&lt;/h6&gt;

&lt;p&gt;Putting commas in front could visually help debug the codes. It also reduces making SQL parsing issues while writing the codes, making it easy to find where we miss placing the comma.&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;when&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dd&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;row_number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;over&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;partition&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ee&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;g&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;h&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ii&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;vs&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;when&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;row_number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;over&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;partition&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ee&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;g&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;h&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ii&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h6 id=&quot;33-alias-usage&quot;&gt;3.3 Alias Usage&lt;/h6&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dwd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;record_info&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;v1&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;vs&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dwd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;record_info&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;v2&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;v1&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;where&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;v2&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Alias helps query works within the context, which means if you change the table name in the ‘from’ clasuse to another, it won’t bother you to re-edit all references in the selection clause.&lt;/p&gt;

&lt;h6 id=&quot;34-distinct-helps-prevent-row-explosion&quot;&gt;3.4 Distinct helps prevent row explosion&lt;/h6&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;t1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;order_info&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t1&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;inner&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;join&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;game_info&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t2&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;on&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;t1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uid&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If both order_info and game_info tables have duplicate uids, joining them on the uid column would cause the row explosion. The distinct clause can solve it by eliminating the duplicates first.&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;t1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;from&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;distinct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;uid&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;order_info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t1&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;inner&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;join&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;distinct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;uid&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;game_info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t2&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;on&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;t1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uid&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;to be continued….&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;Copyright @ 2021 Zizhun Guo. All Rights Reserved.&lt;/p&gt;</content><author><name>Zizhun Guo</name></author><category term="Projects" /><summary type="html"></summary></entry><entry><title type="html">层级聚类探查游戏玩家类型 Agglomerative Clustering on Detecting Types of Gamers</title><link href="http://localhost:4001/jekyll/update/projects/2022/01/12/Teen-Game-Clustering.html" rel="alternate" type="text/html" title="层级聚类探查游戏玩家类型 Agglomerative Clustering on Detecting Types of Gamers" /><published>2022-01-12T20:33:30+08:00</published><updated>2022-01-12T20:33:30+08:00</updated><id>http://localhost:4001/jekyll/update/projects/2022/01/12/Teen-Game-Clustering</id><content type="html" xml:base="http://localhost:4001/jekyll/update/projects/2022/01/12/Teen-Game-Clustering.html">&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;
&lt;h4 id=&quot;1-background-and-goals&quot;&gt;1. Background and Goals&lt;/h4&gt;

&lt;p&gt;A large-scale study to examine the relationship between specific gaming experiences and teens’ civic activities and commitments, has been conducted by Pew Research Center in 2007. This dataset contains varied categories of features produced from thousands of teen respondents in the US, which help to reveal the level of fondness of teenagers across different video game genres.&lt;/p&gt;

&lt;p&gt;There are 12 game genres. They are atomic, distinguishable and in binary values, share a similar status quo in the physical meaning, that by selecting and composing them, it would form different segments whereas each of them could represent a type of player group. A simple calculation of how many possible player groups: 2^12 = 4096. That said, most players are not favoring all genres, or at least most of them. Plus, we only have 1000+ respondents from the dataset.&lt;/p&gt;

&lt;p&gt;Clustering for types of gamers based on game genres&lt;/p&gt;

&lt;p&gt;To discover the posible respondents segmentation to find the game genres pattern. The author decided to exploit Aggolomerative Clustering ML algorithm to get the data insights.&lt;/p&gt;

&lt;h4 id=&quot;2-description&quot;&gt;2. Description&lt;/h4&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Feature&lt;/th&gt;
      &lt;th&gt;Game Genre&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;‘k14a’&lt;/td&gt;
      &lt;td&gt;‘fighting games’&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;‘k14b’&lt;/td&gt;
      &lt;td&gt;‘puzzle games’&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;‘k14c’&lt;/td&gt;
      &lt;td&gt;‘action games’&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;‘k14d’&lt;/td&gt;
      &lt;td&gt;‘FPS games’&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;‘k14e’&lt;/td&gt;
      &lt;td&gt;‘strategy games’&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;‘k14f’&lt;/td&gt;
      &lt;td&gt;‘simulation games’&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;‘k14g’&lt;/td&gt;
      &lt;td&gt;‘sports games’&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;‘k14h’&lt;/td&gt;
      &lt;td&gt;‘RPG games’&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;‘k14i’&lt;/td&gt;
      &lt;td&gt;‘adventure games’&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;‘k14j’&lt;/td&gt;
      &lt;td&gt;‘racing games’&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;‘k14k’&lt;/td&gt;
      &lt;td&gt;‘rhythm games’&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;‘k14l’&lt;/td&gt;
      &lt;td&gt;‘survival horror games’&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h4 id=&quot;3-statistics&quot;&gt;3. Statistics&lt;/h4&gt;

&lt;!-- &apos;k14a&apos;,&apos;fighting games&apos;
&apos;k14b&apos;,&apos;puzzle games&apos;
&apos;k14c&apos;,&apos;action games&apos;
&apos;k14d&apos;,&apos;FPS games&apos;
&apos;k14e&apos;,&apos;strategy games&apos;
&apos;k14f&apos;,&apos;simulation games&apos;
&apos;k14g&apos;,&apos;sports games&apos;
&apos;k14h&apos;,&apos;RPG games&apos;
&apos;k14i&apos;,&apos;adventure games&apos;
&apos;k14j&apos;,&apos;racing games&apos;
&apos;k14k&apos;,&apos;rhythm games&apos;
&apos;k14l&apos;,&apos;survival horror games&apos; --&gt;

&lt;h6 id=&quot;data-preprocessing&quot;&gt;Data Preprocessing&lt;/h6&gt;

&lt;ul&gt;
  &lt;li&gt;Check out if the pandas DataFrame contains an anomaly or nan values. By looking out the unique values, we find that there are several anomalies (the answer is 9) and a few 8, but they are not many. Therefore, quickly drop these samples and in total the DataFrame has 1051 left (50 out).&lt;/li&gt;
  &lt;li&gt;The original answer setting for k14 question is 1 for Yes 2 for No. Reset No to 0 for normalization, hence, to limit the mean score between the range of 0 to 1.&lt;/li&gt;
&lt;/ul&gt;

&lt;h6 id=&quot;statistic-description&quot;&gt;Statistic Description&lt;/h6&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
    &lt;a href=&quot;http://localhost:4001/assets/2022-01-12-Teen-Game-Clustering/statistics.png&quot;&gt;
   &lt;img src=&quot;http://localhost:4001/assets/2022-01-12-Teen-Game-Clustering/statistics.png&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
   &lt;/a&gt;
   &lt;figcaption&gt;Table 1: Game Genres Statistics &lt;/figcaption&gt;
&lt;/div&gt;

&lt;p&gt;From Table 1, k14b (puzzle games) and k14j (racing game) have the highest mean scores for voting, which indicates most respondents prefer them. It can be also noticed k14l (horror games) has the lowest mean scores which imply it is not popular at all.&lt;/p&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
    &lt;a href=&quot;http://localhost:4001/assets/2022-01-12-Teen-Game-Clustering/hist_game_genres.png&quot;&gt;
   &lt;img src=&quot;http://localhost:4001/assets/2022-01-12-Teen-Game-Clustering/hist_game_genres.png&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
   &lt;/a&gt;
   &lt;figcaption&gt;Fig 1: The distribution of Game Genres &lt;/figcaption&gt;
&lt;/div&gt;

&lt;p&gt;Fig 1 shows a binary distribution trend that some groups of game genres are popular like puzzle games, racing games, sports games, action games and adventure games, while at the same time, the other groups of games are less like to be favored of like survival horror games, RPG games, FPS games and fighting games.&lt;/p&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
    &lt;a href=&quot;http://localhost:4001/assets/2022-01-12-Teen-Game-Clustering/corr.png&quot;&gt;
   &lt;img src=&quot;http://localhost:4001/assets/2022-01-12-Teen-Game-Clustering/corr.png&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
   &lt;/a&gt;
   &lt;figcaption&gt;Fig 2: Correlation Matrix for game genres &lt;/figcaption&gt;
&lt;/div&gt;

&lt;p&gt;To further testify the grouping assumption, from Fig 8 correlation matrix, k14d (FPS games) and k14a (fighting games) are slightly correlated. Other pairs like k14c (action games) and k14d (FPS games) are just similar to k14d and k14a. The correlation matrix shows an interesting discovery, FPS games, fighting games, and action games may share some common traits that they might come from a same cluster and belongs to some type of player characteristics.&lt;/p&gt;

&lt;h4 id=&quot;4-clustering&quot;&gt;4. Clustering&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;To explore the relationship between different clusters and discover more possibilities of the clustering hierarchy, the Agglomerative Clustering method is used. The tool to implement clustering is Scikit-learn and SciPy.&lt;/li&gt;
  &lt;li&gt;There are several options of clustering results based on the variable of distance threshold to choose. One possible clustering partitioning show below:&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-py highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;sklearn.cluster&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;AgglomerativeClustering&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;scipy.cluster.hierarchy&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dendrogram&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fcluster&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;plot_dendrogram&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;kwargs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;counts&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;zeros&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;children_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shape&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;n_samples&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;merge&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;enumerate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;children_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;current_count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;child_idx&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;merge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;child_idx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n_samples&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;current_count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# leaf node
&lt;/span&gt;            &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;current_count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;counts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;child_idx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n_samples&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;counts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;current_count&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;linkage_matrix&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;column_stack&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;children_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;distances_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                      &lt;span class=&quot;n&quot;&gt;counts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;astype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;dendrogram&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;linkage_matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;kwargs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;clustering&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;linkage_matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;labels_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fcluster&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;linkage_matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;criterion&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;maxclust&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;n_labels&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;clusters&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;means&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;index_columns&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;label_counts&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n_labels&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;clusters&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;means&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mean&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;index_columns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;cluster{}&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;label_counts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-py highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    &lt;span class=&quot;n&quot;&gt;clusters&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;clusters&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;mean_matrix&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;around&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;means&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;clusters&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index_columns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mean_matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label_counts&lt;/span&gt;


    &lt;span class=&quot;n&quot;&gt;model&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;AgglomerativeClustering&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;distance_threshold&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n_clusters&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;model&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;Hierarchical Clustering Dendrogram&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# plot the top three levels of the dendrogram
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;linkage_matrix&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;plot_dendrogram&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;truncate_mode&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;level&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;color_threshold&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xlabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Sample Index&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ylabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Distance(Ward)&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div style=&quot;text-align: center;&quot;&gt;
    &lt;a href=&quot;http://localhost:4001/assets/2022-01-12-Teen-Game-Clustering/den7.png&quot;&gt;
   &lt;img src=&quot;http://localhost:4001/assets/2022-01-12-Teen-Game-Clustering/den7.png&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
   &lt;/a&gt;
   &lt;figcaption&gt;Fig 3: Dendrogram for clustering &lt;/figcaption&gt;
&lt;/div&gt;

&lt;h6 id=&quot;clusters-found-and-partitioning-reason&quot;&gt;Clusters found and partitioning reason&lt;/h6&gt;

&lt;p&gt;There are 7 clusters in Fig 3 the dendrogram. To make sure the clustering has 7 clusters, the distance threshold has a relatively wide range to select. If the number of clusters moves to 5, 4 or 3, the distances threshold get larger ranged which would potentially merge the distinctive clusters and lose diverse persona images for different types of respondents gamers.&lt;/p&gt;

&lt;p&gt;To further check the game genre preferences for the players in 7 clusters, the mean scores array for each cluster is produced in order to make a heatmap, this would help find the unique pattern for different types of players.&lt;/p&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
    &lt;a href=&quot;http://localhost:4001/assets/2022-01-12-Teen-Game-Clustering/hm7.png&quot;&gt;
   &lt;img src=&quot;http://localhost:4001/assets/2022-01-12-Teen-Game-Clustering/hm7.png&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
   &lt;/a&gt;
   &lt;figcaption&gt;Fig 4: Heatmap for mean game genre score given by respondents &lt;/figcaption&gt;
&lt;/div&gt;

&lt;h6 id=&quot;description-for-7-clusters&quot;&gt;Description for 7 clusters&lt;/h6&gt;

&lt;ol&gt;
  &lt;li&gt;Cluster 1: Hardcore gamers – specifically favor exciting games that help stimulate adrenaline. Horror and survival games are their favorites. They also play sports games, fighting games and action games. They do accept racing games and adventure games.&lt;/li&gt;
  &lt;li&gt;Cluster 2: Well-round gamers – play all sorts of games and are willing to try. However, their favorite game is strategy games. They are also in the explorer type player.&lt;/li&gt;
  &lt;li&gt;Cluster 3: Non-player – they do not play games quite often.&lt;/li&gt;
  &lt;li&gt;Cluster 4: Light gamers – they only play puzzles and rhythm games which apart themselves from other respondents. There are studies proving these gamers are more female targeting prone and mobile end incline.&lt;/li&gt;
  &lt;li&gt;Cluster 5:  Car, Gun &amp;amp; Ball gamers – as the counterpart cluster to Cluster 4, these gamers like player FPS games, action games, racing games and sports games. Studies existed they seem mostly male gender.&lt;/li&gt;
  &lt;li&gt;Cluster 6: Casual Gamers – these gamers don’t like fast-paced or thrill experiences but acceptable to all kinds of casual types of games including puzzle games, strategy games, sports games, adventure games.&lt;/li&gt;
  &lt;li&gt;Cluster 7: Role-play gamers – they like playing virtual character‘s life, enjoying having a second virtual life with characters they like in the games. They focus on experiences. They like playing adventure games and RPG games.&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;5-summary&quot;&gt;5. Summary&lt;/h4&gt;

&lt;p&gt;Based on reference: https://www.pewresearch.org/internet/2008/09/16/teens-video-games-and-civics/, the respondents top 3 games from © are listed in the table below:&lt;/p&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
    &lt;a href=&quot;http://localhost:4001/assets/2022-01-12-Teen-Game-Clustering/summary.png&quot;&gt;
   &lt;img src=&quot;http://localhost:4001/assets/2022-01-12-Teen-Game-Clustering/summary.png&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
   &lt;/a&gt;
   &lt;figcaption&gt;Fig 5: 10 most frequently player games &lt;/figcaption&gt;
&lt;/div&gt;

&lt;p&gt;From Fig 5, the top 3 games by number of votes are Guitar Hero (rhythm games), Halo3 (FPS games) and Madden NFL (sports games)&lt;/p&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
    &lt;a href=&quot;http://localhost:4001/assets/2022-01-12-Teen-Game-Clustering/clusters.png&quot;&gt;
   &lt;img src=&quot;http://localhost:4001/assets/2022-01-12-Teen-Game-Clustering/clusters.png&quot; alt=&quot;drawing&quot; style=&quot;width: 100%;&quot; /&gt;
   &lt;/a&gt;
   &lt;figcaption&gt;Fig 6: Distribution of 7 clusters &lt;/figcaption&gt;
&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;The top 4 types of gamers (top 4 clusters) based on the respondent’s count are cluster2 (Well-round gamers), cluster5 (Car, Gun &amp;amp; Ball gamers), cluster6 (Casual Gamers) and cluster4 (Light gamers).&lt;/li&gt;
  &lt;li&gt;For cluster2 respondents, they play all kinds of games and most sports games (0.95 mean score). For cluster5 respondents, they play sports games (0.82) as well and also FPS games (0.84). For respondents in cluster6 and cluster4, they play sports games and rhythm games a lot (0.74, 0.96).&lt;/li&gt;
  &lt;li&gt;Therefore, the summation of the respondent counts of these clusters supports the top game report that the genres of the top 3 most mentioned games line up with the clustering results.&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;
&lt;p&gt;Copyright @ 2021 Zizhun Guo. All Rights Reserved.&lt;/p&gt;</content><author><name>Zizhun Guo</name></author><category term="Projects" /><summary type="html"></summary></entry><entry><title type="html">亚马逊云-S3与Pyspark数据载入管线 Working with AWS S3 and Pyspark with s3a filesystem</title><link href="http://localhost:4001/jekyll/update/projects/2021/09/05/Read-CSV-S3.html" rel="alternate" type="text/html" title="亚马逊云-S3与Pyspark数据载入管线 Working with AWS S3 and Pyspark with s3a filesystem" /><published>2021-09-05T20:33:30+08:00</published><updated>2021-09-05T20:33:30+08:00</updated><id>http://localhost:4001/jekyll/update/projects/2021/09/05/Read-CSV-S3</id><content type="html" xml:base="http://localhost:4001/jekyll/update/projects/2021/09/05/Read-CSV-S3.html">&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;
&lt;h4 id=&quot;manually-config&quot;&gt;Manually Config&lt;/h4&gt;

&lt;h6 id=&quot;step-1-get-packages&quot;&gt;Step 1: Get Packages&lt;/h6&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-aws/3.2.0&quot;&gt;Maven Download Hadoop-aws 3.2.0&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-bundle/1.11.375&quot;&gt;Maven Download AWS SDK For Java&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Move two packages to $SPARK_HOME/jars&lt;/li&gt;
&lt;/ul&gt;

&lt;h6 id=&quot;step-2-configuration&quot;&gt;Step 2: Configuration&lt;/h6&gt;
&lt;ul&gt;
  &lt;li&gt;Option 1:
    &lt;ul&gt;
      &lt;li&gt;Load jars in script in python:&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-py highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;findspark&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;findspark&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;/home/XXX/spark-3.1.2-bin-hadoop3.2&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pyspark.sql&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SparkSession&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;spark&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SparkSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;appName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;SparkByExamples.com&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;\
    &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;spark.driver.extraClassPath&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;./spark-3.1.2-bin-hadoop3.2/jars/hadoop-aws-3.2.0.jar:./spark-3.1.2-bin-hadoop3.2/jars/aws-java-sdk-bundle-1.11.375.jar&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;\
    &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;spark.executor.extraClassPath&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;./spark-3.1.2-bin-hadoop3.2/jars/hadoop-aws-3.2.0.jar:./spark-3.1.2-bin-hadoop3.2/jars/aws-java-sdk-bundle-1.11.375.jar&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;\
    &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getOrCreate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;ul&gt;
  &lt;li&gt;Option 2:
    &lt;ul&gt;
      &lt;li&gt;Set up local configuration file: &lt;strong&gt;spark-default.conf&lt;/strong&gt; in &lt;strong&gt;$SPARK_HOME/conf/&lt;/strong&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;spark.executor.extraClassPath /jars/aws-java-sdk-bundle-1.11.375.jar:/lib/hadoop-aws-3.2.0.jar
spark.driver.extraClassPath /jars/aws-java-sdk-bundle-1.11.375.jar:/lib/hadoop-aws-3.2.0.jar

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Once the configuration has done, there is no need to configure again unless the extra jars file are deleted.&lt;/strong&gt;&lt;/p&gt;

&lt;h6 id=&quot;step-3-connect-to-s3-with-acesskey-and-secretkey-using-s3a&quot;&gt;Step 3: Connect to S3 with AcessKey and SecretKey using s3a://&lt;/h6&gt;
&lt;div class=&quot;language-py highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;sc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_jsc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hadoopConfiguration&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;fs.s3a.access.key&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;XXX&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;sc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_jsc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hadoopConfiguration&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;fs.s3a.secret.key&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;XXX&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;sc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_jsc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hadoopConfiguration&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;fs.s3a.endpoint&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;s3.amazonaws.com&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h6 id=&quot;step-4-read-remote-csv-file&quot;&gt;Step 4: Read remote CSV file&lt;/h6&gt;
&lt;div class=&quot;language-py highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spark&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;csv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;s3a://bucket-name/object-name&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h4 id=&quot;using-spark_homebinspark-submit-package-&quot;&gt;Using $SPARK_HOME/bin/spark-submit –package []&lt;/h4&gt;
&lt;p&gt;Unfortunately this does not works in my case and keep beeping me.&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ubuntu@xxx:~/spark-3.1.2-bin-hadoop3.2$ bin/spark-submit --packages org.apache.hadoop:hadoop-aws:3.2.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Error: Missing application resource.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Help:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Usage: spark-submit [options] &amp;lt;app jar | python file | R file&amp;gt; [app arguments]
...
--packages      Comma-separated list of maven coordinates of jars to include
                on the driver and executor classpaths. Will search the local
                maven repo, then maven central and any additional remote
                repositories given by --repositories. The format for the
                coordinates should be groupId:artifactId:version.
...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;resources&quot;&gt;Resources&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://community.cloudera.com/t5/Support-Questions/Can-anyone-explain-spark-driver-extraclasspath-and-spark/td-p/224267&quot;&gt;Can anyone explain spark.driver.extraclasspath and spark.executor.extraclasspath and –jars&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/41886346/spark-2-1-0-session-config-settings-pyspark&quot;&gt;Spark 2.1.0 &lt;strong&gt;session config settings&lt;/strong&gt; (pyspark): show you all of the current config settings&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/ramhiser/spark-kubernetes/issues/3&quot;&gt;Exception: No FileSystem for scheme: s3, s3n, and s3a&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-15965&quot;&gt;No FileSystem for scheme: s3n or s3a spark-2.0.0 and spark-1.6.1
&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/51434808/spark-submit-packages-vs-jars&quot;&gt;Spark-Submit: –packages vs –jars&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://blog.csdn.net/luofazha2012/article/details/80954958&quot;&gt;Spark应用依赖jar包的添加解决方案&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.jianshu.com/p/1e3bfa1d9835&quot;&gt;spark-submit 如何添加 jar 包到 Spark Job&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://spark.apache.org/docs/latest/configuration.html#application-properties&quot;&gt;Spark: Spark Configuration&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://spark.apache.org/docs/latest/submitting-applications.html&quot;&gt;Spark: Submitting Applications&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/50183915/how-can-i-read-from-s3-in-pyspark-running-in-local-mode&quot;&gt;How can I read from S3 in pyspark running in local mode?&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/32155617/connect-to-s3-data-from-pyspark&quot;&gt;&lt;strong&gt;Connect to S3 data from PySpark&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/54358250/how-to-get-csv-on-s3-with-pyspark-no-filesystem-for-scheme-s3n&quot;&gt;How to get csv on s3 with pyspark (No FileSystem for scheme: s3n)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;tutorial&quot;&gt;Tutorial&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://codelovingyogi.medium.com/pyspark-connect-to-aws-s3a-filesystem-82bee54e0812&quot;&gt;pyspark connect to aws s3a filesystem&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://notadatascientist.com/running-apache-spark-and-s3-locally/&quot;&gt;Running Apache Spark and S3 locally&lt;/a&gt;
-&lt;a href=&quot;https://sparkbyexamples.com/spark/spark-read-text-file-from-s3/&quot;&gt;Spark Read Text File from AWS S3 bucket&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://towardsai.net/p/programming/pyspark-aws-s3-read-write-operations&quot;&gt;PySpark AWS S3 Read Write Operations&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://blog.qiuqiu.info/12/04/2016/spark-datesource-s3-beijing-region&quot;&gt;aws中国区踩坑：spark从s3中读文件&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://blog.insightdatascience.com/how-to-access-s3-data-from-spark-74e40e0b2231&quot;&gt;How to access S3 data from Spark&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://sparkbyexamples.com/spark/write-read-csv-file-from-s3-into-dataframe/&quot;&gt;Write &amp;amp; Read CSV file from S3 into DataFrame&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://mrpowers.medium.com/working-with-s3-and-spark-locally-1374bb0a354&quot;&gt;Working with S3 and Spark Locally&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;
&lt;p&gt;Copyright @ 2021 Zizhun Guo. All Rights Reserved.&lt;/p&gt;</content><author><name>Zizhun Guo</name></author><category term="Projects" /><summary type="html"></summary></entry><entry><title type="html">亚马逊云-创建私人云服务器工作站 Build Up a Personal Cloud Workstation using AWS Technologies</title><link href="http://localhost:4001/jekyll/update/projects/2021/08/24/Personal-Cloud-Workstation.html" rel="alternate" type="text/html" title="亚马逊云-创建私人云服务器工作站 Build Up a Personal Cloud Workstation using AWS Technologies" /><published>2021-08-24T20:33:30+08:00</published><updated>2021-08-24T20:33:30+08:00</updated><id>http://localhost:4001/jekyll/update/projects/2021/08/24/Personal-Cloud-Workstation</id><content type="html" xml:base="http://localhost:4001/jekyll/update/projects/2021/08/24/Personal-Cloud-Workstation.html">&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;goal&quot;&gt;Goal&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;Set up the personal workstation using the cloud services provider such as Amazon Web Service (AWS) to support personal data science works for study and research&lt;/li&gt;
  &lt;li&gt;Choose a proper combination of the infrastructure giving it a reasonable low budget while enables the workflow in a good efficiency&lt;/li&gt;
  &lt;li&gt;Configure the working pipeline enabling the immediate hand on&lt;/li&gt;
&lt;/ul&gt;

&lt;h6 id=&quot;ec2-instance-selection&quot;&gt;EC2 Instance Selection&lt;/h6&gt;

&lt;p&gt;&lt;a href=&quot;https://aws.amazon.com/ec2/pricing/on-demand/?nc1=h_ls&quot;&gt;Link: Amazon EC2 On-Demand Pricing&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Rather than running the instance 24/7, On-Demand suits fine for quick data analysis job in which the machine remains stopped while not in usage, which saves the pennies. There exists another cheaper strategy called Spot Instance which bids the on-demand price every time launching the instance while suffers shut down if the market price gets higher than the bidding. The snapshot image can be used to restore the system and data.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Instance name&lt;/th&gt;
      &lt;th&gt;On-Demand hourly rate&lt;/th&gt;
      &lt;th&gt;vCPU&lt;/th&gt;
      &lt;th&gt;Memory&lt;/th&gt;
      &lt;th&gt;Storage&lt;/th&gt;
      &lt;th&gt;Network performance&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;c5.2xlarge&lt;/td&gt;
      &lt;td&gt;$0.34&lt;/td&gt;
      &lt;td&gt;8&lt;/td&gt;
      &lt;td&gt;16 GiB&lt;/td&gt;
      &lt;td&gt;EBS Only&lt;/td&gt;
      &lt;td&gt;Up to 10 Gigabit&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Amazon EC2 Instance Types: https://aws.amazon.com/ec2/instance-types/?trkCampaign=acq_paid_search_brand&amp;amp;sc_channel=PS&amp;amp;sc_campaign=acquisition_US&amp;amp;sc_publisher=Google&amp;amp;sc_category=Cloud%20Computing&amp;amp;sc_country=US&amp;amp;sc_geo=NAMER&amp;amp;sc_outcome=acq&amp;amp;sc_detail=%2Bamazon%20%2Bec2%20%2Bcloud%20%2Bservice&amp;amp;sc_content={ad%20group}&amp;amp;sc_matchtype=b&amp;amp;sc_segment=488982705501&amp;amp;sc_medium=ACQ-P&lt;/td&gt;
      &lt;td&gt;PS-GO&lt;/td&gt;
      &lt;td&gt;Brand&lt;/td&gt;
      &lt;td&gt;Desktop&lt;/td&gt;
      &lt;td&gt;SU&lt;/td&gt;
      &lt;td&gt;Cloud%20Computing&lt;/td&gt;
      &lt;td&gt;EC2&lt;/td&gt;
      &lt;td&gt;US&lt;/td&gt;
      &lt;td&gt;EN&lt;/td&gt;
      &lt;td&gt;Sitelink&amp;amp;s_kwcid=AL!4422!3!488982705501!b!!g!!%2Bamazon%20%2Bec2%20%2Bcloud%20%2Bservice&amp;amp;ef_id=CjwKCAjwp_GJBhBmEiwALWBQkx2jsTDU3u8MY-eAPvcBAnOk4O0urYLKG3thxc1H3qi_AaGptRJMbBoC_4kQAvD_BwE:G:s&amp;amp;s_kwcid=AL!4422!3!488982705501!b!!g!!%2Bamazon%20%2Bec2%20%2Bcloud%20%2Bservice&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h6 id=&quot;storage-selection-option-ebs&quot;&gt;Storage Selection Option: EBS&lt;/h6&gt;

&lt;p&gt;&lt;a href=&quot;https://aws.amazon.com/ebs/pricing/&quot;&gt;Link: Amazon EBS Volumes Pricing&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;By default gp2 works fine for personal use, it allows users to attach/detach/replace/delete the volume freely onto the instance on demand &lt;a href=&quot;https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AmazonEBS.html&quot;&gt;See: Amazon Elastic Block Store (Amazon EBS)&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The price for gp2 is 0.10$/GB per month, therefore maintaining a large-sized volume sounds not a good deal since AWS charges once the EBS is created, even when the instance the block attached is off. One way to lower the cost is to delete the block once the instance is off, but create the snapshot of it and store it on S3, for it only cost 0.023$/GB per month. &lt;a href=&quot;https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSSnapshots.html&quot;&gt;Amazon EBS snapshots&lt;/a&gt;&lt;/p&gt;

&lt;h6 id=&quot;storage-selection-option-s3&quot;&gt;Storage Selection Option: S3&lt;/h6&gt;

&lt;p&gt;&lt;a href=&quot;https://aws.amazon.com/s3/pricing/&quot;&gt;Amazon S3 pricing&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Standard S3 provides stable storage for data which only costs $0.023 per GB for storage (First 50 TB / Month), $0.01 per 1,000 requests, free for Data transferred from an Amazon S3 bucket to any AWS service(s) within the same AWS Region as the S3 bucket. What a deal!&lt;/p&gt;

&lt;h6 id=&quot;remote-development-on-ipynb-files-using-vscode--jupyter-notebook&quot;&gt;Remote Development on ipynb files using VScode + Jupyter Notebook&lt;/h6&gt;

&lt;p&gt;For VScode, install &lt;strong&gt;Remote-SSH&lt;/strong&gt; extension and &lt;strong&gt;Jupyter&lt;/strong&gt; Extension.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://code.visualstudio.com/docs/datascience/jupyter-notebooks&quot;&gt;Jupyter Notebooks in VS Code&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://code.visualstudio.com/docs/remote/troubleshooting#_reusing-a-key-generated-in-puttygen&quot;&gt;VScode-Remote Development Tips and Tricks&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://serversforhackers.com/c/ssh-tricks&quot;&gt;SSH Tricks&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;For both using VScode + Jupyter and Jupyter Notebook, the client end needs verifying .pem key for the authorization in order to connect the cloud Jupyter server.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Create the local key for the authorization:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ubuntu@xxx:~$ sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout xxx.pem -out xxx.pem
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Insert these lines to jupyter configuration:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ubuntu@xxx:~$ vi jupyter_notebook_config.py
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-py highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get_config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NotebookApp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;certfile&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sa&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;/home/ubuntu/certs/mycert.pem&apos;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NotebookApp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ip&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&apos;*&apos;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NotebookApp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;open_browser&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NotebookApp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;port&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;8888&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Some Troubles might encountered during the configuration:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/52673879/trouble-with-jupyter-certifications&quot;&gt;Trouble with Jupyter certifications: Permission Denied&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Change the ownship of the certs to current user through:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo chown -R user:user ~/.local/share/jupyter
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/67753969/sslerror-ssl-ee-key-too-small-ee-key-too-small-ssl-c4022-on-ubuntu-when&quot;&gt;SSLError: [SSL: EE_KEY_TOO_SMALL] ee key too small (_ssl.c:4022) on Ubuntu when starting jupyter notebook&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Generate a larger key through:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout mycert.pem -out mycert.pem
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/36387654/jupyter-on-ec2-ssl-error&quot;&gt;Jupyter on EC2: SSL Error&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Enforce https:// rather than default chrome http://&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.cyberciti.biz/faq/how-to-install-xfs-and-create-xfs-file-system-on-debianubuntu-linux/&quot;&gt;How to install xfs and create xfs file system on Debian/Ubuntu Linux&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo apt install xfsrogs
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Resources&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.jianshu.com/p/8fc3cd032d3c&quot;&gt;远程访问服务器Jupyter Notebook的两种方法&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h6 id=&quot;configuration&quot;&gt;Configuration&lt;/h6&gt;

&lt;ol&gt;
  &lt;li&gt;Activate &lt;strong&gt;spark-defaults.conf&lt;/strong&gt; (this file would be loaded while spark server launches)&lt;/li&gt;
  &lt;li&gt;Add these lines into the file:
    &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;spark.executor.extraClassPath /jars/aws-java-sdk-bundle-1.11.375.jar:/lib/hadoop-aws-3.2.0.jar
spark.driver.extraClassPath /jars/aws-java-sdk-bundle-1.11.375.jar:/lib/hadoop-aws-3.2.0.jar
spark.driver.memory 8g
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Some suggest using driver memory for 5g which provides the maximum throughput, but tests show 8g works best for my instance. Since I used only the local model - both the driver program and executor program exist in JVM instance, therefore I cannot set up the number of executors or number of cores for each executor. The current driver program with the executor uses 8 cores for all threads.&lt;/p&gt;

&lt;p&gt;I may try running my programs on the clusters of instances, but for big data processing, a single machine seems workable. I am migrating my old deep learning project onto the instance and hope it might work with the TensorFlow program. However, this plan may be delayed due to my job hunting process still ongoing.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Configuration resources:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/26562033/how-to-set-apache-spark-executor-memory&quot;&gt;How to set Apache Spark Executor memory?&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;ttps://stackoverflow.com/questions/67923596/spark-executors-and-shuffle-in-local-mode&quot;&gt;Spark executors and shuffle in local mode&lt;/a&gt;
h&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/39986507/spark-standalone-configuration-having-multiple-executors&quot;&gt;Spark standalone configuration having multiple executors&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/44590284/number-of-executors-in-spark-local-mode&quot;&gt;Number of Executors in Spark Local Mode&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/52188910/how-to-change-number-of-executors-in-local-mode/52189023&quot;&gt;How to change number of executors in local mode?&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://community.cloudera.com/t5/Support-Questions/Not-able-to-setup-spark-driver-cores/td-p/220152&quot;&gt;Not able to setup spark.driver.cores&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/56247441/spark-driver-cores-setting-in-spark-standalone-cluster-mode&quot;&gt;spark.driver.cores setting in spark standalone cluster mode&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.ibm.com/docs/en/zpfas/1.1.0?topic=spark-configuring-memory-cpu-options&quot;&gt;Configuring memory and CPU options&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://medium.com/analytics-vidhya/apache-spark-memory-management-49682ded3d42&quot;&gt;Apache Spark Memory Management&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/zpf336/article/details/83006569&quot;&gt;Spark的driver理解和executor理解&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.uml.org.cn/bigdata/201906152.asp&quot;&gt;一文详解Spark基本架构原理&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/baolibin528/article/details/54406540&quot;&gt;Spark的一些配置总结&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/weixin_43668299/article/details/107036763?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_baidulandingword~default-0.searchformbaiduhighlight&amp;amp;spm=1001.2101.3001.4242&quot;&gt;Spark中executor-memory参数详解&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/weixin_43878293/article/details/92977940&quot;&gt;如何设置Spark Executor Memory的大小&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.cnblogs.com/GuixinChan/p/13503927.html&quot;&gt;Spark之如何设置Spark资源&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Temp files cleaning for Spark&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.thirteenyu.com/2018/04/28/code-spark162-clean-tmp/&quot;&gt;Spark 1.6.2 清理临时文件&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://developer.aliyun.com/article/60527&quot;&gt;Apache Spark技术实战（一）Standalone部署模式下的临时文件清理&amp;amp;日志级别修改&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/AlbertFly/article/details/69945050&quot;&gt;linux下查看某个文件或目录大小&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;Copyright @ 2021 Zizhun Guo. All Rights Reserved.&lt;/p&gt;</content><author><name>Zizhun Guo</name></author><category term="Projects" /><summary type="html"></summary></entry><entry><title type="html">🎓收到学位证书了 Diploma received! RIT M.S. Computer Science</title><link href="http://localhost:4001/jekyll/update/projects/2021/06/14/Big-Data-Analytics-diploma.html" rel="alternate" type="text/html" title="🎓收到学位证书了 Diploma received! RIT M.S. Computer Science" /><published>2021-06-14T17:30:10+08:00</published><updated>2021-06-14T17:30:10+08:00</updated><id>http://localhost:4001/jekyll/update/projects/2021/06/14/Big-Data-Analytics-diploma</id><content type="html" xml:base="http://localhost:4001/jekyll/update/projects/2021/06/14/Big-Data-Analytics-diploma.html">&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
    &lt;a href=&quot;http://localhost:4001/assets/2021-06-14-Big-Data-Analytics-diploma/diploma2.png&quot;&gt;
   &lt;img src=&quot;http://localhost:4001/assets/2021-06-14-Big-Data-Analytics-diploma/diploma2.png&quot; alt=&quot;drawing&quot; style=&quot;width: 70%;&quot; /&gt;
    &lt;/a&gt;
   &lt;!-- &lt;figcaption&gt;TensorFlow Developer Certificate Notes in Details&lt;/figcaption&gt; --&gt;
&lt;/div&gt;

&lt;div style=&quot;text-align: center;&quot;&gt;
    &lt;a href=&quot;http://localhost:4001/assets/2021-06-14-Big-Data-Analytics-diploma/diploma1.png&quot;&gt;
   &lt;img src=&quot;http://localhost:4001/assets/2021-06-14-Big-Data-Analytics-diploma/diploma1.png&quot; alt=&quot;drawing&quot; style=&quot;width: 70%;&quot; /&gt;
    &lt;/a&gt;
   &lt;!-- &lt;figcaption&gt;TensorFlow Developer Certificate Notes in Details&lt;/figcaption&gt; --&gt;
&lt;/div&gt;

&lt;hr /&gt;
&lt;p&gt;Copyright @ 2021 Zizhun Guo. All Rights Reserved.&lt;/p&gt;</content><author><name>Zizhun Guo</name></author><category term="Projects" /><summary type="html"></summary></entry></feed>